def login():
    import tkinter as tk
    from tkinter import messagebox
  
    usuarios = {}
    global usuario_logado
    usuario_logado = False

    # Criar Conta - Cliente
    def CriarConta_Info():
        nome_2 = Usuario2.get()
        email_2 = Email.get()
        senha01_2 = Senha1.get()
        senha02_2 = Senha2.get()

        if not nome_2 or not email_2 or not senha01_2 or not senha02_2:
            messagebox.showerror("ERRO", "Todos os campos devem ser preenchidos!")
            return
        if len(senha01_2) < 6:
            messagebox.showerror("ERRO", "A senha deve ter pelo menos 6 caracteres!")
            return
        if senha01_2 != senha02_2:
            messagebox.showerror("ERRO", "As senhas não coincidem!")
            return
          
        usuarios[email_2] = {"nome": nome_2, "senha": senha01_2}
        messagebox.showinfo("Sucesso", "Conta criada com sucesso!")

    # Validar Login
    def Validar_Login():
        nonlocal usuario_logado
        email_1 = Usuario1.get()
        senha_1 = Senha3.get()

        if email_1 in usuarios and usuarios[email_1]["senha"] == senha_1:
            usuario_logado = True
            messagebox.showinfo("Sucesso", "Login realizado com sucesso!")
            BotaoConfirmarCompra.config(state="normal")  # Habilitar o botão
        else:
            usuario_logado = False
            messagebox.showerror("Erro", "Usuário ou senha incorretos!")
